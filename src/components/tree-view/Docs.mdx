import { Meta, Primary, Controls, Story } from '@storybook/blocks'
import * as TreeViewStories from './TreeExample.stories'

<Meta of={TreeViewStories} />

# TreeView

<Primary />

## Keyboard Support

### ArrowRight

- 子を持つノードにフォーカスがある
  - 子が展開されていない場合：子のツリーを展開する（フォーカスは移動しない）
  - 子が展開されている場合：子の最初のノードにフォーカスを移動する
- 子を持たないノードにフォーカスがある場合：何もしない

### ArrowLeft

- 子を持つノードにフォーカスがある
  - 子が展開されている場合：子のツリーを折りたたむ（フォーカスは移動しない）
  - 子が展開されていない場合：親のノードにフォーカスを移動する
- 子を持たないノードにフォーカスがある
  - 親を持つ場合：親のノードにフォーカスを移動する
  - 親を持たない場合：何もしない

### ArrowDown

- フォーカス可能な次のノードにフォーカスを移動する

### ArrowUp

- フォーカス可能な前のノードにフォーカスを移動する

### Home

- フォーカス可能な最初のノードにフォーカスを移動する

### End

- フォーカス可能な最後のノードにフォーカスを移動する

### Enter / Space

- フォーカスしているノードを選択する

### Astarisk

- 同一階層の子を持つノードをすべて展開する

### Printable Characters

- 入力された文字を頭文字とするノードにフォーカスを移動する

## TODO

### Interaction Test

- キーボード操作のテストを自動化する

### Advanced Search

- 文字キーが押下されたら、検索文字列として保存する
- 0.5秒以内に最初の文字と異なる文字が入力されたら、保存済みの文字と合わせて文字列を作成する
- バックスペースキーの場合は保存している文字列の最後の文字を削除する
- 0.5秒が経過したら、保存している文字列を破棄する

### Interactive Node

- a要素をノードとしたい場合に対応する

### More Aria

- `aria-setsize`
- `aria-posinset`
- `aria-level`
